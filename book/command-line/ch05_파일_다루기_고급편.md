# 리눅스 입문자를 위한 명령어 사전

## `more, less`: 긴 파일 내용 표시하기

- 서식: `more [옵션][파일...]`, `less [옵션][파일...]`
- 주요 옵션(more)
  - `-s`: 연속한 빈 줄을 표시하지 않습니다
- 주요 옵션(less)
  - `-X`: 프로그램 종료 후에도 표시한 내용을 지우지 않습니다
  - `-xn`: 탭을 n개의 스페이스로 치환해서 표시합니다
  - `-S`: 긴 줄을 자동 줄바꿈하지 않고 그대로 한 줄로 표시합니다
  - `-s`: 연속한 빈 줄을 표시하지 않습니다
- 사용 예
  - `$ more file`, `$ less file`
    - file 텍스트 파일을 한 화면씩 표시합니다
- 조작 단축키
  - 다음 화면으로 이동하기: `ctrl + f`
  - 이전 화면으로 이동하기: `ctrl + b`
  - 다음 한 줄 이동하기: `j`
  - 이전 한 줄 이동하기: `k`
  - 다음 화면 반만 이동하기: `ctrl + d`
  - 이전 화면 반만 이동하기: `ctrl + u`
  - 파일 맨 위로 이동하기: `g`
  - 파일 맨 아래로 이동하기: `G`
  - pattern 문자열 전방 검색: `/pattern`
  - pattern 문자열 후방 검색: `?pattern`
  - 문자열을 재검색: `n`
  - 문자열을 역방향으로 재검색: `N`
  - 직전 검색 시작 위치로 돌아가기: `''`
  - 현재 파일명과 현재 위치 표시: `:f`

### `head`: 파일(텍스트) 앞부분 표시하기

- 서식: `head [옵션][파일...]`
- 주요 옵션
  - `-n`: 파일을 앞에서 n줄까지 표시합니다
  - `-n +n`: 파일을 앞에서 n줄까지 표시합니다
  - `-n -n`: 파일을 끝에서 n줄까지 제외하고 표시합니다
  - `-c +n`: 파일을 앞에서 n바이트까지 표시합니다
  - `-c -n`: 파일을 끝에서 n바이트까지 제외하고 표시합니다

### `tail`: 파일 끝부분 표시하기

- 주요 옵션
  - `-f`: 파일 끝까지 표시해도 종료하지 않고 계속해서 파일에 데이터가 추가될 때마다 갱신된 내용을 표시합니다
- 사용 예
  - `$ tail file`
    - 텍스트 파일 file 끝부분(10줄)을 표시합니다
  - `$ tail -5 file`
    - 텍스트 파일 file 끝에서 5줄을 표시합니다
  - `$ tail -f file`
    - 텍스트 파일 file에 데이터가 추가될 때마다 표시를 갱신합니다
  - `$ ps -ejH | tail`
    - ps 명령어 실행결과 마지막 부분을 표시합니다

### `sort`: 파일 정렬하기

- sort 명령어는 인수로 지정한 파일을 각 줄의 모든 필드를 비교할 대상으로 삼아서 정렬한 결과를 표시합니다
  - 필드란 스페이스나 탭으로 구분한 텍스트 부분을 뜻합니다
- 주요 옵션
  - `-t sep`: 필드를 구분하는 문자로 sep를 지정합니다. 기본값은 공백 문자와 탭 문자를 사용합니다
  - `-k pos1[,pos2]`: 정렬 기준 대상 필드를 지정합니다. pos2를 생략하면 지정한 필드 이후가 모두 대상입니다. 필드 위치는 1에서 시작합니다
  - `-b`: 줄 시작 부분에 있는 공백문자는 무시합니다
  - `-r`: 역순으로 정렬합니다
  - `-f`: 알파벳 대소문자 차이를 무시합니다
- 사용 예
  - `$ sort file`
    - 텍스트 파일  file의 각 줄을 모든 필드를 기준으로 정렬합니다
  - `$ sort -k 2,4 file`
    - 텍스트 파일 file을 지정한 필드(2~4번째)를 기준으로 정렬합니다

### `uniq`: 중복 내용을 제거해서 표시하기

- 같은 내용이 앞뒤 줄에 연속해서 존재하면 그중 하나만 표시합니다
- 서식: `uniq [옵션][입력파일 [출력파일]]`
- 주요 옵션
  - `-u`: 중복되지 않은 줄만 출력합니다
  - `-d`: 중복된 줄만 출력합니다
  - `-c`: 중복된 줄 수를 각 줄 옆에 표시합니다
  - `-f n`: 각 줄 시작 위치에서 n개 필드만큼 건너뛰어서 비교합니다. 공백 문자와 탭 문자가 필드 구분 문자입니다. 필드 위치는 1에서 시작합니다
  - `-s n`: 각 줄 시작 위치에서 n개 문자를 건너뛰어 비교합니다
  - `-w n`: 각 줄에서 n개 문자를 비교합니다. 기본값은 줄 전체를 비교합니다
- 사용 예
  - `$ uniq north`
    - 텍스트 파일 north 각 줄을 전후로 비교해 중복을 제거해서 표시합니다

### `grep`: 파일 내 문자열 검색하기

- 서식: `grep [옵션] 문자열패턴 [파일...]`
- 주요 옵션
  - `-v`: 지정한 문자열 패턴을 포함하는 줄을 제외하고 표시합니다
  - `-n`: 줄 번호를 함께 표시합니다
  - `-l`: 지정한 문자열을 포함한 파일명을 표시합니다
  - `-i`: 대소문자 구분 없이 검색합니다
  - `-r`: 서브 디렉터리 안에 있는 파일도 모두 대상으로 재귀적으로 검색합니다
  - `-s`: 에러 메시지를 표시하지 않습니다
- 사용 예
  - `$ grep ^malt file`
    - 텍스트 파일 file에 malt로 시작하는 줄이 있는지 검색해서 표시합니다
  - `$ ps auxw | grep xeyes`
    - ps 명령어 실행 결과에서 xeyes 문자열을 포함한 줄을 표시합니다
  - `$ grep -n malt file`
    - 텍스트 파일 file에서 malt라는 문자열을 포함한 줄과 줄 번호를 표시합니다
- 정규표현식
  - ^문자열: 문자열로 줄이 시작함
  - 문자열$: 문자열로 줄이 끝남
  - .: 임의의 한 글자
  - 문자\*: 문자가 0번 이상 반복
  - [문자]: []안에 있는 문자 중 하나라도 일치
  - [문자1-문자2]: 문자1과 문자2 사이에 있는 글자 하나
  - 정규표현식 문자열에 공백이나 기호 \*가 들어간다면 셸에서 해석되지 않도록 ' 또는 "로 감쌉니다

### `wc`: 텍스트 파일 길이(줄 수, 단어 수, 문자 수) 조사하기

- 서식: `wc [옵션][파일...]`
- 주요 옵션
  - `-l`: 줄 수를 표시합니다
  - `-w`: 단어 수를 표시합니다
  - `-c`: 문자 수를 표시합니다. 멀티바이트 문자를 포함하면 바이트 수가 됩니다
  - `-m`: 문자 수를 표시합니다. 멀티바이트 문자를 포함해도 문자 수가 됩니다
- 사용 예
  - `$ wc file`
    - 텍스트 파일 file의 길이(줄 수, 단어 수, 문자 수)를 조사합니다
  - `$ last | wc`
    - last 명령어 실행 결과 길이(줄 수, 단어 수, 문자 수)를 조사합니다

### `diff`: 두 파일(디렉터리) 차이점 찾기

- 서식: `diff [옵션] 파일1 파일2`, `diff [옵션] 디렉터리1 디렉터리2`
- 주요 옵션
  - `-i`: 대소문자 차이를 무시합니다
  - `-r`: 서브 디렉터리도 비교합니다
  - `-s`: 두 파일 내용이 같으면 같다는 정보를 표시합니다
  - `-b`: 줄 끝에 있는 공백 문자 차이를 무시합니다
  - `-w`: 모든 공백 문자 차이를 무시합니다
  - `-B`: 빈 줄 개수 차이를 무시합니다
  - `-q`: 파일 내용 일치 여부만 표시합니다
  - `-u`: 통합 diff 형식으로 출력합니다
- 사용 예
  - `$ diff file1 file2`
    - file1과 file2 파일의 내용 차이를 조사합니다
  - `$ diff -u file1 file2`
    - file1과 file2 파일 차이를 통합 diff 형식으로 표시합니다

### `chown, chgrp`: 파일 소유자, 소속 그룹 변경하기

- 소유자는 파일을 소유한 사용자를 뜻하는데 소유자만 해당 파일의 소속 그룹이나 권한 같은 속성을 변경할 수 있습니다
  파일(디렉터리) 소유자를 변경하려면 `chown` 명령어를 사용합니다
  소속 그룹을 변경하려면 `chgrp` 명령어를 사용합니다
- 주요 옵션
  - `-R`: 서브 디렉터리 이하도 한꺼번에 변경합니다
- 사용 예
  - `# chown user file`
    - file 파일 소유자를 user 사용자로 변경합니다
  - `$ chgrp group file`
    - file 파일 소속 그룹을 group 그룹으로 변경합니다. (사용자가 group에 소속되어 있을 때만 가능)
  - `# chown user:group file`
    - file 파일 소유자를 user로, 소속 그룹을 group으로 한꺼번에 변경합니다

### `chmod`: 파일 권한 변경하기

- 서식: `chmod [옵션] 모드설정 파일(디렉터리)...`
- 주요 옵션
  - `-R`: 서브 디렉터리 이하도 한꺼번에 변경합니다
- 권한 설정
  - 연산자 사용법: 대상(ugoa) + 설정방법(+-=) + 허가조건(rwx)
    - 대상: 소유자(u), 소속그룹(g), 기타(o), 모두(a)
    - 설정방법: 추가(+), 삭제(-), 새로설정(=)
    - 허가조건: 읽기(r), 쓰기(w), 실행(x)
- 사용 예
  - `$ chmod u+w file`
    - file 파일 권한을 소유자가 쓰기 가능하도록 변경합니다
  - `$ chmod 644 file`
    - file 파일 권한을 소유자(읽고 쓰기 가능), 소속그룹 및 기타 사용자 (읽기만 가능)

### `gzip, gunzip, bzip2, bunzip2, xz, unxz`: 파일 압축하고 풀기

### `zcat, bzcat, xzcat`: 압축 파일 내용 출력하기

- 압축 파일을 풀지 않아도 다른 명령어에 압축 해제된 내용을 넘길 수 있습니다

### `tar`: 파일 묶고 풀기

- 서식: `tar [옵션][파일...]`
- 주요 옵션
  - `f file`: 아카이브 파일 file을 지정합니다
  - `-c`: 새로운 아카이브 파일을 작성합니다
  - `-r`: 지정한 파일을 아카이브 파일에 추가합니다
  - `-x`: 지정한 파일을 아카이브 파일에서 풉니다. 파일을 지정하지 않으면 모든 파일을 풉니다
  - `-t`: 지정한 파일을 아카이브 파일에서 찾아서 있으면 해당하는 파일명을 표시합니다. 파일 지정이 없으면 모두 표시합니다
  - `-v`: 명령어를 실행할 때 상세한 정보를 표시합니다
  - `-J`: xz 형식 압축, 압축해제를 지원합니다
  - `-j`: bzip2 형식 압축, 압축해제를 지원합니다
  - `-z`: gzip 형식 압축, 압축해제를 지원합니다
- 사용 예
  - `$ tar cf file.tar file1 file2`
    - file1, file2 파일을 묶어서 아카이브 파일 file.tar를 작성합니다
  - `$ tar rf file.tar file3`
    - 지정한 file3 파일을 아카이브 파일 file.tar에 추가합니다
  - `$ tar xf file.tar`
    - 아카이브 파일 file.tar에서 모든 파일을 전개합니다
  - `$ tar tf file.tar`
    - 아카이브 파일 file.tar 내부 목록을 표시합니다
  - `$ tar zxf file.tar.gz`
    - tar 형식 + gzip 형식인 file.tar.gz를 압축 해제 및 전개합니다
  - `$ tar jxf file.tbz2`
    - tar 형식 + bzip2 형식인 file.tbz2를 압축 해제 및 전개합니다

### `ln`: 파일에 별명 붙이기

- 이 명령어는 어떤 파일을 다른 파일명으로 참조하거나 다른 디렉터리에서 전체 경로 지정을 하지 않아도 손쉽게 참조하고 싶을 대 사용합니다. 또는 여러 사용자가 같은 파일을 공유하고 싶을 때도 사용합니다
- 서식: `ln [옵션] 오리지널파일(디렉터리) 링크파일명`
- 주요 옵션
  - `-s`: 심볼릭 링크로 별명을 작성합니다
  - `-f`: 이름이 같은 파일이 있으면 덮어쓰기합니다.
  - `-i`: 이름이 같은 파일이 있으면 덮어쓰기 여부를 확인합니다
- 사용 예
  - `$ ln -s file name`
    - file 파일에 별명 name을 붙입니다 (심볼릭 링크)
  - `$ ln file name`
    - file 파일에 별명 name을 붙입니다 (하드 링크)

### `find`: 파일시스템에서 파일 찾기

- 서식: `find 검색시작디렉터리 검색조건 처리방법`
- 주요 검색 조건
  - `-name name`: 파일명이 name인 파일을 검색합니다
  - `-mtime n`: 갱신 시각이 n일 이전인 파일을 검색합니다
  - `-user user`: 파일 소유자가 user인 파일을 검색합니다
  - `-regex regexp`: 경로명 전체가 정규표현식 regexp와 일치하는 파일을 검색합니다
  - `-path ptn`: 경로명 전체가 문자열 ptn과 일치하는 파일을 검색합니다
- 주요 처리 방법
  - `-print`: 검색 결과를 표시합니다
  - `-print0`: 검색 결과를 null 문자로 나눠서 출력합니다
  - `-ls`: 검색 결과로 찾은 파일정보를 표시합니다
  - `-exec command [arg] \;`: 검색 결과로 command 명령어를 실행합니다. 인수 arg에 {}를 지정하면 검색 결과가 치환되어 들어갑니다
  - `-execdir command [arg] \;`: -exec 옵션과 같지만 처리 대상 파일이 존재하는 디렉터리로 이동해서 command 명령어를 실행한 결과가 됩니다
  - `-ok command [arg] \;`: -exec 옵션과 같지만 command 명령어를 실행하기 전에 실행 여부를 확인합니다
- 사용 예
  - `$ find dir -name filename -print`
    - dir 디렉터리 이하를 검색해서 파일명이 filename인 파일을 찾습니다
  - `$ find dir -mtime 1 -print`
    - dir 디렉터리 이하를 검색해서 갱신 시각이 하루 전인 파일을 찾습니다
  - `$ find dir -name filename -exec /bin/rm {} \;`
    - dir 디렉터리 이하를 검색해서 파일명이 filename인 파일을 찾아서 rm 명령어를 실행합니다
  - `$ find ./ -regex "./.*\.c$"`
    - 현재 디렉터리 이하를 검색해서 확장자가 .c인 파일을 찾습니다
