# 스프링 시큐리티 인 액션

## OAuth2 구성요소

- 리소스서버: 사용자가 소유한 리소스를 호스팅하는 서버  
  리소스는 사용자의 데이터이거나 사용자가 수행할 수 있는 작업일 수 있다
- 리소스소유자: 리소스 서버가 노출하는 리소스를 소유하는 개인
- 클라이언트: 사용자를 대신해 사용자가 소유한 리소스에 접근하는 **애플리케이션**
- 권한부여서버: 클라이언트가 리소스 서버가 노출하는 리소스에 접근할 권한을 부여하는 애플리케이션  
  권한부여서버는 클라이언트가 사용자 대신 리소스에 접근권한이 있다고 결정하면 토큰을 발급한다
  클라이언트는 이 토큰을 이용해 권한 부여 서버에서 권한을 받았음을 리소스 서버에 증명한다
  리소스 서버는 유효한 토큰이 있으면 클라이언트가 요청한 리소스에 접근하게 허용한다

## 예시

- 리소스소유자: 제시카는 소유한 데이터에 접근하고 변경하고자 한다  
  그녀는 클라이언트(애플리케이션)으로 데이터 작업을 수행하기를 원한다
- 클라이언트: 클라이언트는 애플리케이션으로 웹 앱이거나 모바일 앱일 수 있다  
  제시카는 이 애플리케이션으로 자신의 데이터에 접근하고 수정한다
- 권한부여서버: 제시카를 식별한다. 클라이언트에 리소스 작업을 수행할 수 있도록 승인받았음을 증명하는 방법을 제공한다
- 리소스서버: 제시카의 데이터를 유지하고 사용자가 승인한 클라이언트만 데이터를 이용하도록 허용한다

## OAuth2 개요

- OAuth2를 이용한다는건 권한 부여에 토큰을 이용한다는 의미이다  
  OAuth2는 **그랜트(grant)**라는 토큰을 얻는 여러 방법을 제공한다
  - 그랜트 유형별로 토큰이 생성되는 방식을 알고 애플리케이션 요구사항에 따라 선택할 수 있어야한다
    토큰을 얻은 후에는 특정 리소스에 접근할 수 있다
