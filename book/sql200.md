# 초보자를 위한 SQL 200제

## 001-테이블에서 특정 열(COLUMN 선택하기)

- 테이블에서 특정 열(column)을 선택해서 출력하는 방법
  - 특정 열(column)을 선택하려면 select절에 열을 콤마로 구분하여 기술
- 가독성을 높이기 위해 **SQL**은 대문자로 작성, **칼럼과 테이블명**은 소문자로 작성
- SELECT 절과 FROM절을 각각 별도의 라인에 작성하기를 권장

## 002-테이블에서 모든 열(COLUMN) 출력하기

- 테이블의 모든 열(COLUMN)을 선택할 때는 `*`을 사용합니다
- 모든 칼럼을 출력하고 맨 끝에 다시 한번 특정 칼럼을 출력하는 경우
  - `테이블명.*, 칼럼명`

## 003-칼럼 별칭을 사용하여 출력되는 칼럼명 변경하기

- 칼럼명 바로 옆에 출력하고 싶은 컬럼명을(칼럼별칭column alias) 입력하여 컬럼명을 변경한다
- `"`로 감싸주는 경우
  - 대소문자를 구분하여 출력할 때
  - 공백문자를 출력할 때
  - 특수문자를 출력할 때(`$`, `_`, `#`)
- 수식에 칼럼별칭을 사용하면 `ORDER BY`절 사용시 편리하다

## 004-연결 연산자사용하기

- 연결연산자 `||`을 사용하여 칼럼과 칼럼을 연결해서 출력하는 방법
- 연결연산자를 사용하면 컬럼과 컬럼을 연결해서 출력할 수 있고 컬럼과 문자열을 연결해서 출력할 수 있다. 칼럼 별칭은 마지막에 입력

## 005-중복된 데이터를 제거해서 출력하기

- 칼럼명 앞에 distinct 키워드를 기술하여 중복된 데이터를 제거하여 출력합니다
- DISTINCT 대신 UNIQUE를 사용해도 됩니다

## 006-데이터를 정렬해서 출력하기

- ORDER BY절은 데이터를 오름차순 또는 내림차순으로 정렬합니다
- ORDER BY절은 SQL 작성 시에도 맨 마지막에 작성하고 오라클이 실행할 때도 맨 마지막에 실행합니다
  - ORDER BY 절은 맨 마지막에 실행되기 때문에 SELECT 절에 사용한 컬럼 별칭을 ORDER BY절에 사용할 수 있습니다
- ORDER BY절에 컬럼명 대신 SELECT절 칼럼의 순서를 숫자로 적어줄 수 있습니다

| 코딩순서 | SQL               | 실행순서 | SQL               |
| -------- | ----------------- | -------- | ----------------- |
| 1        | SELECT ename, sal | 2        | SELECT ename, sal |
| 2        | FROM emp          | 1        | FROM emp          |
| 3        | ORDER BY sal asc; | 3        | ORDER BY sal asc; |

## 007-WHERE절 배우기(숫자데이터검색)

- 검색을 원하는 숫자 데이터를 찾으려면 WHERE 절을 사용합니다
- 비교연산자

  | 연산자 | 의미        |
  | ------ | ----------- |
  | >      | 크다        |
  | <      | 작다        |
  | >=     | 크거나 같다 |
  | <=     | 작거나 같다 |
  | =      | 같다        |
  | !=     | 같지 않다   |
  | ^=     | 같지 않다   |
  | <>     | 같지 않다   |

- 기타 비교 연산자

| 연산자      | 의미                          |
| ----------- | ----------------------------- |
| BETWEEN AND | ~사이에 있는                  |
| LIKE        | 일치하는 문자 패턴 검색       |
| IS NULL     | NULL 값인지 여부              |
| IN          | 값 리스트 중 일치하는 값 검색 |

- 실행순서
  - 오라클은 FROM절을 실행하고 나서 WHERE 절을 실행한다. 그리고나서 SELECT 절 실행

## 008-WHERE절 배우기(문자와 날짜 검색)

- 검색을 원하는 문자 데이터를 찾으려면 WHERE 절을 사용합니다
- 문자 양쪽에 `'`을 둘러 감싸야한다
  - 오라클에게 숫자가 아니고 문자라는것을 알려주기 위해서다
- 날짜도 문자와 동일하게 `'`을 감싸주어야한다
- 날짜 데이터 검색의 경우 현재 접속한 세션(session)의 날짜 형식에 맞춰 작성해주어야한다.
  - 나라마다 날짜 형식이 다르기 때문에 `NSL_SESSION_PARAMETERS`을 조회하여 현재 접속한 세션의 날짜 형식을 확인한다
- 세션이란 데이터베이스 유저로 로그인해서 로그아웃할 때까지의 한 단위를 말한다

## 009-산술연산자 배우기(\*, /, +, -)

- 산술 연산을 위해 더하기, 빼기, 곱하기, 나누기를 사용합니다
- NULL값은 데이터가 할당되지 않은 상태 또는 알 수 없는 값입니다
  - 산술식의 컬럼값이 NULL인 경우 결과도 NULL입니다

## 010-비교연산자 배우기(>, <. >=, <=, =, !=, <>, ^=)

- 비교연산자를 사용하여 조건에 맞는 데이터를 검색합니다

## 011-비교연산자 배우기(BETWEEN AND)

- between and 비교 연산자를 이용하여 두 값 사이의 값들을 검색합니다

## 012-비교연산자 배우기(LIKE)

- like 연산자를 이용하여 문자 패턴이 일치하는 데이터를 검색합니다
- `LIKE`와 같이 쓰이는 기호는 와일드카드(`%`)와 언더바(`_`)가 있습니다
  - `%`는 와일드카드입니다. 와일드 카드는 이 자리에 어떠한 철자가 와도 상관없고 철자의 개수가 몇 개가 되든 관계없다는 뜻입니다.
    - `%`가 특수문자 퍼센트가 아니라 와일드 카드가 되려면 이퀄 연산자(`=`)가 아닌 `LIKE` 연산자를 사용해야 합니다
  - `_`는 어떠한 철자가 와도 관계없으나 자리수는 한 자리여야 된다는 의미입니다

## 013-비교연산자 배우기(IS NULL)

- NULL 값을 검색하기 위해서는 is null 연산자를 사용해야 합니다

## 014-비교연산자 배우기(IN)

- 여러 개의 리스트 값을 조회할 때는 in 연산자를 사용합니다

## 015-논리연산자 배우기(AND, OR, NOT)

- WHERE 절에 여러 개의 조건을 AND 또는 OR을 이용하여 결합합니다
- AND는 둘 다 TRUE여야 TRUE가 반환됩니다
  - TRUE AND TRUE -> TRUE, TRUE AND FALSE -> FALSE
- OR는 둘 중에 하나만 TRUE여도 TRUE를 반환합니다
  - TRUE OR TRUE -> TRUE, TRUE OR FALSE -> TRUE
- NULL은 알수 없는 값이기 때문에 TRUE인 경우, FALSE인 경우 모두 계산해봅니다

| 질문 | TRUE AND NULL -> ?                             | TRUE OR NULL -> ?                           |
| ---- | ---------------------------------------------- | ------------------------------------------- |
| 해설 | TRUE AND TRUE -> TRUE, TRUE AND FALSE -> FALSE | TRUE OR TRUE -> TRUE, TRUE OR FALSE -> TRUE |
| 답   | 알수없음: NULL                                 | 모든경우 TRUE: TRUE                         |

## 016-대소문자 변환 함수 배우기(UPPER, LOWER, INITCAP)

- 철자의 대소문자를 변환하기 위해서는 upper, lower, initcap 함수를 사용합니다
- upper 함수는 대문자로 출력, lower 함수는 소문자로 출력, initcap 함수는 첫번째 철자만 대문자로 출력하고 나머지는 소문자로 출력합니다
- upper함수와 lower 함수는 테이블 내 데이터가 대문자인지 소문자로 저장되어 있는지 확실하지 않을 때 정확한 데이터검색을 위해 사용합니다

## 017-문자에서 특정 철자 추출하기(SUBSTR)

- 문자에서 특정길이의 문자를 추출하려면 SUBSTR 함수를 사용합니다
  - SUBSTR('SMITH', 1, 3)에서 1은 추출한 철자의 시작 위치 번호입니다. 3은 시작위치로부터 몇 개의 철자를 추출할지를 정하는 숫자입니다

## 018-문자열의 길이를 출력하기(LENGTH)

- 문자열의 길이를 출력하기 위해 length 함수를 사용합니다

## 019-문자에서 특정 철자의 위치출력하기(INSTR)

- 문자에서 특정 철자의 위치를 출력하기 위해 INSTR함수를 사용합니다

## 020 - 특정 철자를 다른 철자로 변경하기(REPLACE)

- REPLACE 함수는 특정 철자를 다른 철자로 변경하는 문자 함수입니다

## 021 특정 철자를 N개만큼 채우기(LPAD, RPAD)

- 문자출력시 특정 철자를 N개 만큼 채워서 출력하려면 LPAD, RPAD를 사용합니다
- LPAD의 뜻은 왼쪽(left)로 채워넣다(PAD)입니다
- LPAD나 RPAD는 SQL를 데이터로 시각화하기 유용합니다
  - LPAD('O', round(sal/100), 'O')에서 round(sal/100)이 16이라면 전체 16자리를 확보합니다.
  - 16자리 중 'O' 하나 출력하고 나머지 15자리에 O를 채워서 출력하여 O가 16개 출력됩니다

## 022 특정 철자잘라내기(TRIM, RTRIM, LTRIM)

- 문자 출력시 특정 철자를 잘라내어 출력하려면 TRIM, RTRIM, LTRIM을 사용합니다

## 023 반올림해서 출력하기(ROUND)

- 숫자 출력시 반올림을 하기 위해서는 ROUND 함수를 사용합니다
  - ROUND(876.567, 0)은 소수점 1번째 자리에서 반올림합니다
  - ROUND(876.567, 1)은 소수점 2번째 자리에서 반올림합니다
  - ROUND(876.567, 2)은 소수점 3번째 자리에서 반올림합니다
  - ROUND(876.567, -1)은 일의 자리에서 반올림합니다

## 024 숫자를 버리고 출력하기(TRUNC)

- 숫자 출력시 특정 자리의 숫자를 버리고 출력하기 위해 TRUNC 함수를 사용합니다

## 025-나눈 나머지값 출력하기(MOD)

- 숫자 값을 나눈 나머지 값을 출력하려면 MOD 함수를 사용합니다

## 026-날짜 간 개월 수 출력하기(MONTHS_BETWEEN)

- 날짜와 날짜 사이의 개월 수를 출력ㅎ려면 MONTHS_BETWEEN 함수를 사용합니다

## 027-개월 수 더한 날짜 출력하기(ADD_MONTHS)

- 특정날짜에서 개월 수를 더한 날짜를 출력하면 ADD_MONTHS함수를 사용합니다

## 028-특정 날짜 뒤에 오는 요일 날짜출력하기(NEXT_DAY)

- 특정 날짜 다음에 돌아오는 특정 요일의 날짜를 출력하기 위해 사용합니다

## 029-특정 날짜가 있는 달의 마지막 날짜출력(LAST_DAY)

- 특정 날짜가 있는 달의 마지막 날짜를 출력합니다

## 030-문자형으로 데이터 유형 변환하기(TO_CHAR)

- 날짜형, 숫자형 데이터를 문자형으로 변환하기 위해서는 TO_CHAR 함수를 사용합니다
  - 날짜를 문자로 변환해서 출력하면 날짜에서 년, 월, 일, 요일 등을 추출해서 출력할 수 있습니다
  - 날짜 컬럼에서 연도/월/일/시간/분/초를 추출하기 위해 EXTRACT함수를 사용해도 된다

## 031-날짜형으로 데이터유형 변환하기(TO_DATE)

- 문자를 날짜형으로 출력할 때는 TO_DATE 함수를 사용

## 032 암시적 형 변환 이해하기
