# 모던 JavaScript 듀토리얼 day03

- 읽을파트: [파트 1 4.8] 객체를 원시형으로 변환하기
- 평가: 유익, 처음 배운 내용들인데, 잘 이해할 수 있었다.

---

## [파트 1 4.8] 객체를 원시형으로 변환하기

- 객체 자동형변환

  - 1. 논리평가시 `true`반환
  - 2. 빼는 연산, 수학관련 함수 적용시 숫자형으로 형변환
  - 3. 문자형으로의 형변환

- 객체-원시형으로의 형변환은 hint를 기준으로 구분할 수 있습니다

  - `"string"`: 문자열을 기대하는 연산
    - (e.g. `alert(obj)`, 객체를 프로퍼티 키로 사용하는 경우)
  - `"number"`: 수학연산 적용
    - (e.g. 명시적 형변환(`Number()`), 이항 덧셈 연산을 제외한 수학연산, 크고 작음 비교하기)
  - `"default"`: 연산자가 기대하는 자료형이 '확실하지 않을 때'
    - (e.g. 이항덧셈연산, 동등연산자)

- 객체-원시형 변환 알고리즘

  - 1. 객체에 `obj[Symbol.toPrimitive](hint)` 메서드가 있는지 찾고, 있다면 호출합니다
  - 2. 1 에 해당하지 않고 hint가 `"string"`이라면
    - `obj.toString()`이나 `obj.valueOf()`를 호출합니다
  - 3. 1과 2에 해당하지 않고 hint가 `"number"`나 `"default"`라면
    - `obj.valueOf()`나 `obj.toString()`을 호출합니다

- `obj.toString()`만 사용해도 '모든 변환'을 다룰 수 있습니다
- `Symbol.toPrimitive`는 _무조건_ 원시자료를 반환해야합니다. 그렇지 않으면 에러가 발생합니다
- `toString`이나 `valueOf`가 객체를 반환하면 값이 무시되고, 메서드가 존재하지 않았던 것처럼 동작합니다
