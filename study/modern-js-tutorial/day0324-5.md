# 모던 JavaScript 듀토리얼 day03

- 읽을파트: [파트 1 11.8] async와 await
- 평가: 유익, 아직 await가 어떻게 기다려주는지 잘 모르겠다. 추가학습이 필요한 부분

---

## [파트 1 11.8] async와 await

- async 함수
  - `async`는 function 앞에 위치합니다
  - function 앞에 `async`를 붙이면 해당 함수는 항상 프라미스를 반환합니다
    프라미스가 아닌 값을 반환하더라도 이행 상태의 프라미스(resolved promise)로 값을 감싸 이행된 프라미스가 반환되도록 합니다
- await
  - `await`는 `async` 함수 안에서만 동작합니다
  - 자바스크립트는 `await` 키워드를 만나면 프라미스가 처리될 때까지 기다립니다
  - 프라미스가 처리되길 기다리는 동안엔 엔진이 다른 일(다른 스크립트를 실행, 이벤트 처리 등)을 할 수 있기 때문에 CPU 리소스가 낭비되지 않습니다
  - `await` 는 최상위 레벨 코드에서 작동하지 않습니다
    대신 익명 async 함수로 코드를 감싸면 최상위 레벨 코드에서도 `await`를 사용할 수 있습니다
  - `await`는 'thenable' 객체를 받습니다
    - thenable 객체 (`then` 메서드가 있는 호출 가능한 객체)
    - `await`는 `.then`이 구현되어있으면서 프라미스가 아닌 객체를 받으면, 내장함수 `resolve`와 `reject`를 인수로 제공하는 메서드인 `.then`를 호출합니다
- 에러 핸들링
  - 정상적으로 이행되면 `await promise`는 프라미스 객체의 `result`에 저장된 값을 반환합니다
  - 거부되면 에러가 던져집니다
  - `await`가 던진 에러는 `throw`가 던진 에러를 잡을 때처럼 `try..catch`를 사용해 잡을 수 있습니다
