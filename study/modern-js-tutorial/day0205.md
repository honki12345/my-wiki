# 모던 JavaScript 듀토리얼 day03

- 읽을파트: [파트 1 6.3] 변수의 유효범위와 클로저
- 평가: 유익, 튜토리얼에서는 너무 깊지도 않게, 그렇다고 너무 얕지도 않게 주니어개발자에게 적합한 수준으로 개념을 전달해줘서 좋다

---

## [파트 1 6.3] 변수의 유효범위와 클로저

- 자바스크립트는 함수지향언어이다
  - 함수를 동적으로 생성할 수 있고, 생성한 함수를 다른 함수에 인수로 넘길 수 있으며, 생성된 곳이 아닌 곳에서 함수를 호출할 수도 있다
- 함수 내부에서 함수 외부에 있는 변수에 접근할 수 있다
- 코드블록
  - 코드 블록 `{...}` 안에서 선언한 변수는 블록 안에서만 사용할 수 있습니다
- 중첩 함수
  - 함수 내부에서 선언한 함수는 중첩(nested) 함수라고 부릅니다
- 렉시컬 환경
  - 실행중인 함수, 코드블록, 스크립트 전체는 렉시컬 환경을 갖습니다
  - 렉시컬 환경은 내부 숨김 연관 객체(internal hidden associated object) 입니
  - 렉시컬 환경 객체는 두 부분으로 구성됩니다
    - 1. 환경 레코드(Environment Record): 모든 지역변수를 프로퍼티로 저장하고 있는 객체입니다. `this` 값과 같은 기타 정보도 여기에 저장됩니다
    - 2. 외부 렉시컬 환경(Outer Lexical Environment)에 대한 참조: 외부 코드와 연관됨
    - 스크립트 전체와 관련된 렉시컬 환경은 전역렉시컬 환경이라고 합니다
- 변수
  - 변수는 특수내부객체인 `환경 레코드`의 프로퍼티입니다.
  - 변수를 가져오거나 변경하는 것은 환경 레코드의 프로퍼티를 가져오거나 변경하는 것입니다
- 내부와 외부 렉시컬 환경
  - 함수를 호출해 실행하면 새로운 렉시컬 환경이 자동으로 만들어집니다
  - 이 렉시컬 환경엔 함수 호출시 넘겨받은 매개변수와 함수의 지역변수가 저장됩니다
- 모든 함수는 함수가 생성된 곳의 렉시커 환경을 기억한다.
  - 함수는 `[[Environment]]`라 불리는 숨김 프로퍼티를 갖는데, 여기에 함수가 만들어진 곳의 렉시컬 환경에 대한 참조가 저장됩니다
  - `[[Environment]]`는 함수가 생성될 때 딱 한 번 값이 세팅되고 영원히 변하지 않습니다
