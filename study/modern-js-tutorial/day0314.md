# 모던 JavaScript 듀토리얼 day03

- 읽을파트: [파트 1 8.1] 프로토타입 상속
- 평가: 유익, 자바스크립트의 객체지향을 이해할 수 있었다. 코어 자바스크립트 책에서 프로토타입 공부했을 땐 긴가민가 했는데 오히려 더 구체적이고 좋았다.

---

## [파트 1 8.1] 프로토타입 상속

- [[Prototype]]
  - 자바스크립트의 객체는 명세서에서 명명한 `[[Prototype]]`이라는 숨김 프로퍼티를 갖습니다
  - 이 숨김 프로퍼티 값은 `null`이거나 다른 객체에 대한 참조가 됩니다.
    - 이때 다른 객체를 참조하는 경우에 참조대상을 '프로토타입(prototype)'이라 부릅니다
- 프로토타입 상속
  - 자바스크립트의 객체에서 프로퍼티를 읽으려고 하는데 해당 프로퍼티가 없으면 자바스크립트는 자동으로 프로토타입에서 프로퍼티를 찾습니다. 이런 동작 방식을 '프로토타입 상속'이라 부릅니다
  - 프로포타이벵서 상속받은 프로퍼티를 '상속 프로퍼티(inherited property)'라고 합니다
- `__proto__`
  - `__proto__`는 `[[Prototype]]` 의 getter, setter 입니다.
    - `__proto__`는 `[[Prototype]]`은 다릅니다
    - 근래에는 `__proto__`대신 함수 `Object.getProtypeOf`나 `Object.setPrototypeOf`를 써서 프로토타입을 'get'하거나 'set'합니다
  - `__proto__`는 브라우저 환경에서만 지원하도록 명세서에 규정되어잇으나 서버사이드를 포함한 모든 환경에서 지원합니다
- 프로토타입 체이닝의 제약사항
  - 1. 순환참조(circular reference)는 허용되지 않습니다. `__proto__`를 이용해 닫힌 형태로 다른객체를 참조하면 에러가 발생합니다
  - 2. `__proto__`의 값은 객체나 `null`만 가능합니다. 다른 자료형은 무시됩니다
  - 3. 객체엔 오직 하나의 `[[Prototype]]`만 있을 수 있습니다.
- 메서드는 공유되지만 객체의 상태는 공유되지 않는다
- `for..in`은 상속 프로퍼티도 순회대상에 포함시킵니다
  - `Object.keys()`는 객체 자신의 키만 반환합니다
  - `obj.hasOwnProperty()`를 이용하면 상속 프로퍼티를 순회대상에서 제외할 수 있습니다. 이 메서드는 상속 프로퍼티가 아닌 `obj`에 직접 구현되어 있는 프로퍼티일 때만 `true`를 반환합니다
- 모던 엔진에서 객체에서 프로퍼티를 가져오는 것과 객체의 프로토타입에서 프로퍼티를 가져오는 것 사이에 성능적인 차이가 없습니다. 모던 엔진은 프로퍼티가 어디서 발견됐는지 기억하고 있다가 다음 요청 시 정보를 재사용합니다
